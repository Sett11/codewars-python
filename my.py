def make_atomic_move(m,p):
    s,a,b,v='abcdefgh',p[:2],p[-2:],p[2:3]
    a=a[1]+str(s.index(a[0]))
    b=b[1]+str(s.index(b[0]))
    t=m[len(m)-int(a[0])][int(a[1])]
    m[len(m)-int(a[0])][int(a[1])]='.'
    m[len(m)-int(b[0])][int(b[1])]='.'
    if v=='-':
        m[len(m)-int(b[0])][int(b[1])]=t
        return m
    b=[8-int(b[0]),int(b[1])]
    c=[i for i in [b,[b[0]-1,b[1]],[b[0]+1,b[1]],[b[0],b[1]-1],[b[0],b[1]+1],[b[0]-1,b[1]-1],[b[0]+1,b[1]+1],[b[0]+1,b[1]-1],[b[0]-1,b[1]+1]] if i[0]>-1 and i[1]>-1 and i[0]<len(m) and i[1]<len(m)]
    for i in c:
        if m[i[0]][i[1]]!='p' and m[i[0]][i[1]]!='P':
            m[i[0]][i[1]]='.'
    return m
    

print(make_atomic_move([['r', 'n', 'b', 'q', 'k', 'b', '.', 'r'], ['p', '.', 'p', '.', '.', 'p', 'p', 'p'], ['.', '.', '.', 'p', '.', '.', '.', '.'], ['.', '.', '.', '.', 'p', '.', '.', '.'], ['.', '.', '.', '.', 'P', '.', '.', '.'], ['.', 'Q', '.', '.', '.', '.', '.', '.'], ['P', 'P', 'P', '.', '.', 'P', 'P', 'P'], ['R', 'N', 'B', '.', 'K', 'B', 'N', 'R']],'b3xb8'))

[['r', 'n', 'b', 'q', 'k', 'b', '.', 'r'],
 ['p', '.', 'p', '.', '.', 'p', 'p', 'p'],
 ['.', '.', '.', 'p', '.', '.', '.', '.'],
 ['.', '.', '.', '.', 'p', '.', '.', '.'],
 ['.', '.', '.', '.', 'P', '.', '.', '.'],
 ['.', 'Q', '.', '.', '.', '.', '.', '.'],
 ['P', 'P', 'P', '.', '.', 'P', 'P', 'P'],
 ['R', 'N', 'B', '.', 'K', 'B', 'N', 'R']]

[['r', '.', 'b', 'q', 'k', 'b', '.', 'r'],
 ['p', '.', 'p', '.', '.', 'p', 'p', 'p'],
 ['.', '.', '.', 'p', '.', '.', '.', '.'],
 ['.', '.', '.', '.', 'p', '.', '.', '.'],
 ['.', '.', '.', '.', 'P', '.', '.', '.'],
 ['.', '.', '.', '.', '.', '.', '.', '.'],
 ['P', 'P', 'P', '.', '.', 'P', 'P', 'P'],
 ['.', '.', '.', '.', 'K', 'B', 'N', 'R']]

[['.', '.', '.', 'q', 'k', 'b', '.', 'r'],
 ['p', '.', 'p', '.', '.', 'p', 'p', 'p'],
 ['.', '.', '.', 'p', '.', '.', '.', '.'],
 ['.', '.', '.', '.', 'p', '.', '.', '.'],
 ['.', '.', '.', '.', 'P', '.', '.', '.'],
 ['.', '.', '.', '.', '.', '.', '.', '.'],
 ['P', 'P', 'P', '.', '.', 'P', 'P', 'P'],
 ['R', 'N', 'B', '.', 'K', 'B', 'N', 'R']]