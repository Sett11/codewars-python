def gcd(a):
    i=min(a)
    while i:
        if a[0]%i==0 and a[1]%i==0:
            return i
        i-=1

def gcd_matrix(a,b):
    r=[]
    for i in b:
        t=[]
        for j in a:
            t.append(gcd([i,j]))
        r.append(sum(t)/len(t))
    return round(sum(r)/len(r),3)

print(gcd_matrix([1,2,3],[4,5,6]))
print(gcd_matrix([5,5,5],[10,10,10]))
print(gcd_matrix([1000, 595, 174, 364, 523, 565, 583, 571, 575, 492, 188, 433, 147, 506, 157, 885, 865, 153, 37, 850, 756, 84, 715, 528, 990, 322, 656, 837, 214, 273, 174, 740, 553, 103, 153, 122, 457, 135, 766, 346, 297, 502, 520, 371, 942, 457, 180, 307, 659, 921, 333, 686, 648, 832, 920, 65, 72, 652, 588, 109, 927, 326, 353, 643, 446, 492, 564, 668, 328, 259, 115, 555, 286, 14, 68, 481, 902, 705, 586, 792, 707, 881, 975, 740, 543, 933, 602, 699],[701, 673, 121, 8, 466, 479, 78, 331, 260, 639, 428, 834, 906, 537, 504, 35, 646, 909, 271, 833, 66, 606, 885, 312, 331, 28]))